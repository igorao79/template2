(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{7405:function(e,t,a){Promise.resolve().then(a.t.bind(a,5995,23)),Promise.resolve().then(a.bind(a,5567)),Promise.resolve().then(a.bind(a,3697)),Promise.resolve().then(a.bind(a,9969)),Promise.resolve().then(a.t.bind(a,4162,23))},5567:function(e,t,a){"use strict";a.r(t);var r=a(3827);t.default=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com",crossOrigin:"anonymous"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,r.jsx)("link",{rel:"preload",as:"style",href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap",rel:"stylesheet",media:"print",onLoad:e=>{e.target.media="all"}})]})},3697:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var r=a(3827),_=a(4090),o=a(1399),c=a(8597),n=a.n(c),s=a(9970);let i=()=>{let[e,t]=(0,_.useState)("home"),a=(0,_.useCallback)(e=>{let t=document.getElementById(e);if(t){let e=document.querySelector("header"),a=e?e.offsetHeight:0,r=t.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:r-a,behavior:"smooth"})}},[]);return(0,_.useEffect)(()=>{let e=window.location.hash.slice(1);e&&(t(e),a(e))},[a]),(0,_.useEffect)(()=>{let a=()=>{let a="home",r=1/0;["home","animals","tickets","events","location"].forEach(e=>{let t=document.getElementById(e);if(t){let _=Math.abs(t.getBoundingClientRect().top);_<r&&(r=_,a=e)}}),a!==e&&(t(a),window.history.replaceState(null,"","#".concat(a)))};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[e]),{activeSection:e,handleNavigation:(0,_.useCallback)((e,r)=>{e.preventDefault(),t(r),a(r),window.history.pushState(null,"","#".concat(r))},[a])}},l=[{href:"#home",id:"home",label:"Главная"},{href:"#animals",id:"animals",label:"Животные"},{href:"#tickets",id:"tickets",label:"Билеты"},{href:"#events",id:"events",label:"События"},{href:"#location",id:"location",label:"Как добраться"}];var d=()=>{let[e,t]=(0,_.useState)(!1),[a,c]=(0,_.useState)(!1),{cartItems:d,openCart:m}=(0,s.j)(),u=d.reduce((e,t)=>e+t.quantity,0),{activeSection:h,handleNavigation:p}=i(),f=(0,_.useCallback)(()=>{t(window.scrollY>50)},[]);return(0,_.useEffect)(()=>(f(),window.addEventListener("scroll",f,{passive:!0}),()=>window.removeEventListener("scroll",f)),[f]),(0,r.jsx)("header",{className:"".concat(n().header," ").concat(e?n()["header--scrolled"]:""),children:(0,r.jsxs)("div",{className:n().header__container,children:[(0,r.jsxs)("a",{href:"#home",onClick:e=>p(e,"home"),className:n().header__logo,children:["Зоопарк",(0,r.jsx)("span",{className:n()["header__logo-accent"],children:"."})]}),(0,r.jsx)("nav",{className:n().header__nav,children:(0,r.jsx)("ul",{className:n()["header__nav-list"],children:l.map(t=>(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:t.href,onClick:e=>{p(e,t.id),c(!1)},className:"\n                    ".concat(n()["header__nav-item"]," \n                    ").concat(e?n()["header__nav-item--scrolled"]:"","\n                    ").concat(h===t.id?n()["header__nav-item--active"]:"","\n                  "),children:t.label})},t.href))})}),(0,r.jsxs)("div",{className:n().header__mobile_controls,children:[(0,r.jsxs)("button",{className:n().header__cart,onClick:m,"aria-label":"Открыть корзину",children:[(0,r.jsx)(o.FeP,{}),u>0&&(0,r.jsx)("span",{className:n().header__cart_badge,children:u})]}),(0,r.jsx)("button",{className:n()["header__mobile-button"],onClick:()=>c(!a),"aria-label":a?"Закрыть меню":"Открыть меню",children:a?(0,r.jsx)(o.aHS,{}):(0,r.jsx)(o.Fm7,{})})]}),a&&(0,r.jsx)("div",{className:n()["header__mobile-menu"],children:(0,r.jsxs)("ul",{className:n()["header__mobile-list"],children:[l.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:e.href,onClick:t=>{p(t,e.id),c(!1)},className:"\n                      ".concat(n()["header__mobile-item"],"\n                      ").concat(h===e.id?n()["header__mobile-item--active"]:"","\n                    "),children:e.label})},e.href)),(0,r.jsx)("li",{children:(0,r.jsxs)("button",{className:n().header__mobile_cart_btn,onClick:()=>{m(),c(!1)},children:[(0,r.jsx)(o.FeP,{className:n().header__mobile_cart_icon}),"Корзина",u>0&&(0,r.jsx)("span",{className:n().header__mobile_cart_badge,children:u})]})})]})})]})})}},3134:function(e,t,a){"use strict";var r=a(3827),_=a(4090),o=a(9542),c=a(1348),n=a(4504),s=a(3779),i=a.n(s);t.Z=e=>{let{isOpen:t,onClose:a,children:s,lockScroll:l=!0}=e,[d,m]=(0,_.useState)(!1),u=(0,_.useRef)(null);return((0,_.useEffect)(()=>(m(!0),l&&t&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[t,l]),(0,_.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&a()},r=e=>{u.current===e.target&&t&&a()};return document.addEventListener("keydown",e),document.addEventListener("mousedown",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("mousedown",r)}},[t,a]),d&&"undefined"!=typeof document)?(0,o.createPortal)((0,r.jsx)(c.M,{mode:"wait",children:t&&(0,r.jsxs)("div",{className:i().modalContainer,children:[(0,r.jsx)(n.E.div,{ref:u,className:i().overlay,initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.3}}}}),(0,r.jsx)(n.E.div,{className:i().modal,initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0,scale:.8,y:-20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3}},exit:{opacity:0,scale:.8,y:-20,transition:{duration:.2}}},children:s})]})}),document.body):null}},605:function(e,t,a){"use strict";a.d(t,{_:function(){return n},b:function(){return c}});var r=a(3827),_=a(4090);let o=(0,_.createContext)({canAnimate:!1,isLoading:!0,hasScrolled:!1});function c(e){let{children:t}=e,[a,c]=(0,_.useState)(!0),[n,s]=(0,_.useState)(!1),[i,l]=(0,_.useState)(!1),d=(0,_.useRef)(!0);return(0,_.useEffect)(()=>{l(window.scrollY>0);let e=()=>{l(!0)};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[]),(0,_.useEffect)(()=>{if(d.current){d.current=!1;let e=setTimeout(()=>{c(!1),setTimeout(()=>{s(!0)},800)},2500);return()=>clearTimeout(e)}},[]),(0,r.jsx)(o.Provider,{value:{canAnimate:n,isLoading:a,hasScrolled:i},children:t})}function n(){let e=(0,_.useContext)(o);if(void 0===e)throw Error("useAnimation must be used within an AnimationProvider");return e}},9970:function(e,t,a){"use strict";a.d(t,{Z:function(){return n},j:function(){return s}});var r=a(3827),_=a(4090);let o={email:"",date:null,paymentMethod:null},c=(0,_.createContext)(null),n=e=>{let{children:t}=e,[a,n]=(0,_.useState)([]),[s,i]=(0,_.useState)(o),[l,d]=(0,_.useState)(!1),[m,u]=(0,_.useState)(1),[h,p]=(0,_.useState)(!1);(0,_.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("cart");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&(console.log("Загружены элементы корзины:",t.length),n(t))}}catch(e){console.error("Ошибка при загрузке корзины:",e),localStorage.removeItem("cart")}finally{p(!0)}})()},[]),(0,_.useEffect)(()=>{h&&a.length>0&&(localStorage.setItem("cart",JSON.stringify(a)),console.log("Сохранено элементов в корзине:",a.length))},[a,h]);let f=a.reduce((e,t)=>e+t.price*t.quantity,0),x=()=>{u(1),i(o)};return(0,r.jsx)(c.Provider,{value:{cartItems:a,isCartOpen:l,checkoutStep:m,addToCart:e=>{console.log("Добавление в корзину:",e.name,e.quantity),n(t=>{let a=t.findIndex(t=>t.id===e.id);if(-1===a)return[...t,e];{let r=[...t],_=r[a];return r[a]={..._,quantity:_.quantity+e.quantity},r}}),d(!0)},removeFromCart:e=>{console.log("Удаление из корзины ID:",e),n(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{t>0&&n(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))},clearCart:()=>{console.log("Очистка корзины"),n([]),localStorage.removeItem("cart")},openCart:()=>{d(!0),console.log("Открытие корзины, элементов:",a.length)},closeCart:()=>{d(!1),setTimeout(()=>{m>1&&x()},300)},nextStep:()=>{u(e=>Math.min(e+1,3))},prevStep:()=>{u(e=>Math.max(e-1,1))},resetCheckout:x,totalAmount:f,orderInfo:s,setOrderInfo:e=>{i(t=>({...t,...e}))},totalPrice:f},children:t})},s=()=>{let e=(0,_.useContext)(c);if(!e)throw Error("useCart must be used within a CartProvider");return e}},9969:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var r=a(3827),_=a(9970),o=a(605),c=a(3697),n=a(8792),s=a(4090),i=a(1399),l=a(4504),d=a(5274),m=a.n(d);let u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},h={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},p=[{href:"https://facebook.com",icon:i.Am9,label:"Facebook"},{href:"https://twitter.com",icon:i.fWC,label:"Twitter"},{href:"https://instagram.com",icon:i.Zf_,label:"Instagram"},{href:"https://youtube.com",icon:i.V2E,label:"YouTube"}],f=[{href:"/",label:"Главная"},{href:"/animals",label:"Животные"},{href:"/tickets",label:"Билеты"},{href:"/events",label:"События"},{href:"/location",label:"Как добраться"}],x=[{days:"Понедельник - Пятница",hours:"9:00 - 18:00"},{days:"Суббота",hours:"9:00 - 19:00"},{days:"Воскресенье",hours:"10:00 - 19:00"}],y=[{icon:i.Nh4,text:"ул. Зоологическая, 123, г. Москва, 123456"},{icon:i.I7T,text:"+7 (123) 456-7890"},{icon:i.SRX,text:"info@zoopark.ru"}],j=(0,s.memo)(()=>(0,r.jsx)("div",{className:m().footer__social,children:p.map(e=>{let{href:t,icon:a,label:_}=e;return(0,r.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":_,children:(0,r.jsx)(a,{className:m()["footer__social-link"]})},t)})}));j.displayName="SocialLinks";let v=(0,s.memo)(()=>(0,r.jsx)("ul",{className:m()["footer__links-list"],children:f.map(e=>{let{href:t,label:a}=e;return(0,r.jsx)("li",{children:(0,r.jsx)(n.default,{href:t,className:m()["footer__links-item"],children:a})},t)})}));v.displayName="QuickLinks";let b=(0,s.memo)(()=>(0,r.jsxs)("ul",{children:[x.map(e=>{let{days:t,hours:a}=e;return(0,r.jsxs)("li",{className:m()["footer__hours-item"],children:[(0,r.jsxs)("span",{children:[t,":"]}),(0,r.jsx)("span",{children:a})]},t)}),(0,r.jsx)("li",{className:m()["footer__hours-note"],children:(0,r.jsx)("span",{children:"* Последний вход за 1 час до закрытия"})})]}));b.displayName="WorkingHours";let g=(0,s.memo)(()=>(0,r.jsx)("ul",{children:y.map(e=>{let{icon:t,text:a}=e;return(0,r.jsxs)("li",{className:m()["footer__contact-item"],children:[(0,r.jsx)(t,{className:m()["footer__contact-item-icon"]}),(0,r.jsx)("span",{children:a})]},a)})}));g.displayName="ContactInfo";var N=(0,s.memo)(()=>{let e=new Date().getFullYear();return(0,r.jsx)("footer",{className:m().footer,children:(0,r.jsxs)("div",{className:m().footer__container,children:[(0,r.jsxs)(l.E.div,{className:m().footer__grid,initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:u,children:[(0,r.jsxs)(l.E.div,{variants:h,children:[(0,r.jsx)("h3",{className:m()["footer__column-title"],children:"Зоопарк"}),(0,r.jsx)("p",{className:m()["footer__column-text"],children:"Почувствуйте магию дикой природы в уникальной и интерактивной среде. Наша миссия - обучать, сохранять и вдохновлять."}),(0,r.jsx)(j,{})]}),(0,r.jsxs)(l.E.div,{variants:h,children:[(0,r.jsx)("h3",{className:m()["footer__column-title"],children:"Разделы"}),(0,r.jsx)(v,{})]}),(0,r.jsxs)(l.E.div,{variants:h,children:[(0,r.jsx)("h3",{className:m()["footer__column-title"],children:"Часы работы"}),(0,r.jsx)(b,{})]}),(0,r.jsxs)(l.E.div,{variants:h,children:[(0,r.jsx)("h3",{className:m()["footer__column-title"],children:"Контакты"}),(0,r.jsx)(g,{})]})]}),(0,r.jsx)(l.E.div,{className:m().footer__copyright,initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.5},children:(0,r.jsxs)("p",{children:["\xa9 ",e," Зоопарк. Все права защищены."]})})]})})}),E=a(1230),C=a.n(E),M=a(1348),w=a(628),S=a.n(w),k=a(7756),D=a(3134);let L={email:"",emailError:"",selectedDate:null,dateError:"",paymentMethod:null,paymentError:"",disabledDates:[]};function T(e,t){switch(t.type){case"SET_EMAIL":return{...e,email:t.payload,emailError:""};case"SET_EMAIL_ERROR":return{...e,emailError:t.payload};case"SET_SELECTED_DATE":return{...e,selectedDate:t.payload,dateError:""};case"SET_DATE_ERROR":return{...e,dateError:t.payload};case"SET_PAYMENT_METHOD":return{...e,paymentMethod:t.payload,paymentError:""};case"SET_PAYMENT_ERROR":return{...e,paymentError:t.payload};case"SET_DISABLED_DATES":return{...e,disabledDates:t.payload};case"RESET_FORM":return L;case"INITIALIZE_FORM":return{...e,...t.payload};default:return e}}var F=()=>{let{cartItems:e,orderInfo:t,isCartOpen:a,checkoutStep:o,removeFromCart:c,updateQuantity:n,closeCart:d,setOrderInfo:m,nextStep:u,prevStep:h,resetCheckout:p,totalPrice:f,clearCart:x}=(0,_.j)(),[y,j]=(0,s.useReducer)(T,L),[v,b]=(0,s.useState)(window.innerWidth);(0,s.useEffect)(()=>{t&&j({type:"INITIALIZE_FORM",payload:{email:t.email||"",selectedDate:t.date,paymentMethod:t.paymentMethod}})},[t]),(0,s.useEffect)(()=>{console.log("CartModal: Количество элементов в корзине:",e.length),console.log("CartModal: Общая сумма:",f)},[e,f,a]),(0,s.useEffect)(()=>{let e=new Date,t=new Date(e);t.setDate(e.getDate()+14);let a=[],r=new Date(t);for(let e=0;e<30;e++)r.setDate(r.getDate()+1),a.push(new Date(r));j({type:"SET_DISABLED_DATES",payload:a})},[]),(0,s.useEffect)(()=>{let e=()=>{b(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let g=e=>{j({type:"SET_SELECTED_DATE",payload:e})},N=e=>{j({type:"SET_PAYMENT_METHOD",payload:e})},E=e=>e.toLocaleDateString("ru-RU",{day:"numeric",month:"long",weekday:"short"}),C=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(e),w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}},F={enter:e=>{let t=v<=768;return{x:t?0:e>0?"100%":"-100%",opacity:.2,scale:.95,rotateY:t?0:e>0?"7deg":"-7deg"}},center:{x:0,opacity:1,scale:1,rotateY:0,transition:{type:"tween",duration:.4,ease:[.16,1,.3,1]}},exit:e=>{let t=v<=768;return{x:t?0:e<0?"100%":"-100%",opacity:.2,scale:.95,rotateY:t?0:e<0?"7deg":"-7deg",transition:{type:"tween",duration:.4,ease:[.16,1,.3,1]}}}},H=()=>o<R.current?-1:1,R=(0,s.useRef)(o);(0,s.useEffect)(()=>{R.current=o},[o]);let I=e=>{switch(e){case"user":return(0,r.jsx)(i.Xws,{});case"child":return(0,r.jsx)(i.OXn,{});case"userTie":return(0,r.jsx)(i.$yZ,{});default:return(0,r.jsx)(i.QHb,{})}};return(0,r.jsxs)(D.Z,{isOpen:a,onClose:d,children:[(0,r.jsx)("div",{className:S().cart__overlay,onClick:d}),(0,r.jsx)("div",{className:S().cart__modal,children:(0,r.jsxs)("div",{className:S().cart__modal_content,children:[(0,r.jsxs)("div",{className:S().cart__header,children:[1===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.FeP,{className:S().cart__header_icon}),(0,r.jsx)("h2",{className:S().cart__title,children:"Корзина"})]}),2===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.IiJ,{className:S().cart__header_icon}),(0,r.jsx)("h2",{className:S().cart__title,children:"Оформление заказа"})]}),3===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.l_A,{className:S().cart__header_icon}),(0,r.jsx)("h2",{className:S().cart__title,children:"Заказ оформлен"})]}),(0,r.jsx)("div",{className:S().cart__steps,children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"".concat(S().cart__step_indicator," ").concat(o>=e?S().cart__step_indicator_active:""),children:[(0,r.jsx)("span",{className:S().cart__step_number,children:e}),(0,r.jsx)("span",{className:S().cart__step_name,children:1===e?"Корзина":2===e?"Оформление":"Готово"})]},e))}),(0,r.jsx)("button",{className:S().cart__close,onClick:d,children:(0,r.jsx)(i.aHS,{})})]}),(0,r.jsx)("div",{className:"".concat(S().cart__content," ").concat(3===o?S().cart__content_success:""),children:(0,r.jsxs)(M.M,{mode:"wait",initial:!1,children:[1===o&&(0,r.jsx)(l.E.div,{className:S().cart__step1,initial:"enter",animate:"center",exit:"exit",variants:F,custom:H(),children:e&&e.length>0?(0,r.jsx)("div",{className:S().cart__items_list,children:e.map(e=>(0,r.jsxs)("div",{className:S().cart__product_row,children:[(0,r.jsx)("div",{className:S().cart__product_icon,children:I(e.iconType)}),(0,r.jsxs)("div",{className:S().cart__product_info,children:[(0,r.jsx)("div",{className:S().cart__product_name,children:e.name}),(0,r.jsxs)("div",{className:S().cart__product_price,children:[C(e.price)," / шт."]})]}),(0,r.jsxs)("div",{className:S().cart__counter,children:[(0,r.jsx)("button",{className:S().cart__counter_btn,onClick:()=>n(e.id,e.quantity-1),"aria-label":"Уменьшить количество",children:"-"}),(0,r.jsx)("div",{className:S().cart__counter_value,children:e.quantity}),(0,r.jsx)("button",{className:S().cart__counter_btn,onClick:()=>n(e.id,e.quantity+1),"aria-label":"Увеличить количество",children:"+"})]}),(0,r.jsx)("div",{className:S().cart__product_total,children:C(e.price*e.quantity)}),(0,r.jsx)("button",{className:S().cart__product_remove,onClick:()=>c(e.id),"aria-label":"Удалить из корзины",children:(0,r.jsx)(i.Xm5,{})})]},e.id))}):(0,r.jsxs)("div",{className:S().cart__empty,children:[(0,r.jsx)(i.FeP,{className:S().cart__empty_icon}),(0,r.jsx)("p",{children:"Ваша корзина пуста"}),(0,r.jsx)("button",{className:S().cart__empty_btn,onClick:d,children:"Продолжить покупки"})]})},"cart-step"),2===o&&(0,r.jsx)(l.E.div,{className:S().cart__step2,initial:"enter",animate:"center",exit:"exit",variants:F,custom:H(),children:(0,r.jsxs)(l.E.div,{className:S().cart__form_container,initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},children:[(0,r.jsxs)(l.E.div,{className:S().cart__form_group,variants:w,children:[(0,r.jsxs)("label",{htmlFor:"email",className:S().cart__form_label,children:[(0,r.jsx)(i.SRX,{className:S().cart__form_icon})," Email для получения билетов"]}),(0,r.jsx)("input",{id:"email",type:"email",className:"".concat(S().cart__form_input," ").concat(y.emailError?S().cart__form_input_error:""),placeholder:"example@example.com",value:y.email,onChange:e=>{j({type:"SET_EMAIL",payload:e.target.value})}}),y.emailError&&(0,r.jsx)("p",{className:S().cart__error_message,children:y.emailError})]}),(0,r.jsxs)(l.E.div,{className:S().cart__form_group,variants:w,children:[(0,r.jsxs)("label",{className:S().cart__form_label,children:[(0,r.jsx)(i.IiJ,{className:S().cart__form_icon})," Дата посещения (в течение двух недель)"]}),(0,r.jsxs)("div",{className:S().cart__date_picker,children:[(()=>{let e=[],t=new Date;for(let a=1;a<=14;a++){let r=new Date(t);r.setDate(t.getDate()+a),e.push(r)}return e})().map(e=>(0,r.jsx)("button",{type:"button",className:"".concat(S().cart__date_option," ").concat(y.selectedDate&&e.toDateString()===y.selectedDate.toDateString()?S().cart__date_option_selected:""),onClick:()=>g(e),children:E(e)},e.toISOString())),y.disabledDates.slice(0,5).map(e=>(0,r.jsx)("button",{type:"button",className:"".concat(S().cart__date_option," ").concat(S().cart__date_option_disabled),disabled:!0,children:E(e)},e.toISOString()))]}),y.dateError&&(0,r.jsx)("p",{className:S().cart__error_message,children:y.dateError})]}),(0,r.jsxs)(l.E.div,{className:S().cart__form_group,variants:w,children:[(0,r.jsxs)("label",{className:S().cart__form_label,children:[(0,r.jsx)(i.l80,{className:S().cart__form_icon})," Способ оплаты"]}),(0,r.jsxs)("div",{className:S().cart__payment_methods,children:[(0,r.jsxs)("button",{type:"button",className:"".concat(S().cart__payment_option," ").concat("card"===y.paymentMethod?S().cart__payment_option_selected:""),onClick:()=>N("card"),children:[(0,r.jsx)(i.ypE,{className:S().cart__payment_icon}),(0,r.jsx)("span",{children:"Банковская карта"})]}),(0,r.jsxs)("button",{type:"button",className:"".concat(S().cart__payment_option," ").concat("paypal"===y.paymentMethod?S().cart__payment_option_selected:""),onClick:()=>N("paypal"),children:[(0,r.jsx)(i.kD0,{className:S().cart__payment_icon}),(0,r.jsx)("span",{children:"PayPal"})]}),(0,r.jsxs)("button",{type:"button",className:"".concat(S().cart__payment_option," ").concat("applepay"===y.paymentMethod?S().cart__payment_option_selected:""),onClick:()=>N("applepay"),children:[(0,r.jsx)(i.oPZ,{className:S().cart__payment_icon}),(0,r.jsx)("span",{children:"Apple Pay"})]})]}),y.paymentError&&(0,r.jsx)("p",{className:S().cart__error_message,children:y.paymentError})]})]})},"checkout-step"),3===o&&(0,r.jsxs)(l.E.div,{className:S().cart__step3,initial:"enter",animate:"center",exit:"exit",variants:F,custom:H(),children:[(0,r.jsx)("div",{className:S().cart__success_animation,children:(0,r.jsx)(k.y1,{src:"/monkey.lottie",autoplay:!0,loop:!0})}),(0,r.jsx)("h3",{className:S().cart__success_title,children:"Спасибо за покупку!"}),(0,r.jsxs)("p",{className:S().cart__success_message,children:["Ваши билеты направлены на указанную почту ",(0,r.jsx)("strong",{children:y.email}),". Ждем вас!"]}),(0,r.jsxs)("button",{className:S().cart__success_btn,onClick:()=>{x(),setTimeout(()=>{d(),p(),j({type:"RESET_FORM"})},3e3)},children:[(0,r.jsx)(i.l_A,{}),"Готово"]})]},"success-step")]})}),(0,r.jsx)("div",{className:S().cart__footer,children:o<3&&(0,r.jsxs)(r.Fragment,{children:[o>1&&(0,r.jsxs)("button",{className:S().cart__back_btn,onClick:h,children:[(0,r.jsx)(i.x_l,{className:S().cart__btn_icon}),"Назад"]}),(0,r.jsxs)("button",{className:S().cart__next_btn,onClick:()=>{if(1===o)0!==e.length&&u();else if(2===o){let e=!1;if(y.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)||(j({type:"SET_EMAIL_ERROR",payload:"Пожалуйста, введите корректный email"}),e=!0),y.selectedDate||(j({type:"SET_DATE_ERROR",payload:"Пожалуйста, выберите дату посещения"}),e=!0),y.paymentMethod||(j({type:"SET_PAYMENT_ERROR",payload:"Пожалуйста, выберите способ оплаты"}),e=!0),e)return;m({email:y.email,date:y.selectedDate,paymentMethod:y.paymentMethod}),u()}},disabled:0===e.length&&1===o,children:[1===o?"Оформить заказ":"Оплатить",(0,r.jsx)(i.Z1Y,{className:S().cart__btn_icon})]})]})})]})})]})},H=(0,s.memo)(e=>{let{children:t}=e,{isLoading:a}=(0,o._)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("main",{className:"".concat(C().main," ").concat(a?C().hidden:""),children:t}),(0,r.jsx)(F,{})]})}),R=a(1012),I=a.n(R),P=(0,s.memo)(()=>{let e=(0,s.useRef)(null),{isLoading:t}=(0,o._)();return(0,s.useEffect)(()=>{if(document.body.style.opacity="1",t?(document.body.style.overflow="hidden",document.body.style.height="100vh"):(document.body.style.overflow="",document.body.style.height=""),!t&&e.current){e.current.classList.add(I().fadeOut);let t=setTimeout(()=>{var t;null===(t=e.current)||void 0===t||t.remove()},800);return()=>clearTimeout(t)}return()=>{t||(document.body.style.overflow="",document.body.style.height="")}},[t]),(0,r.jsx)("div",{ref:e,className:I().loadingScreen,children:(0,r.jsx)("div",{className:I().content,children:(0,r.jsxs)("div",{className:I().logo,children:[(0,r.jsx)("span",{className:I().text,children:"Зоопарк"}),(0,r.jsx)("span",{className:I().dot,children:"."})]})})})});function A(e){let{children:t}=e;return(0,r.jsx)(_.Z,{children:(0,r.jsxs)(o.b,{children:[(0,r.jsx)(P,{}),(0,r.jsxs)(H,{children:[(0,r.jsx)(c.default,{}),t,(0,r.jsx)(N,{})]})]})})}},4162:function(){},1012:function(e){e.exports={loadingScreen:"LoadingScreen_loadingScreen__sB9qb",fadeOut:"LoadingScreen_fadeOut__TUJa2",content:"LoadingScreen_content__pLZQe",slideIn:"LoadingScreen_slideIn__65_dU",logo:"LoadingScreen_logo__L_DR1",text:"LoadingScreen_text__NW8oY",dot:"LoadingScreen_dot__ynpgN",pulse:"LoadingScreen_pulse__Z1_Ya",dots:"LoadingScreen_dots__gIrQx",bounce:"LoadingScreen_bounce__BWszj"}},628:function(e){e.exports={cart__overlay:"CartModal_cart__overlay__DHjx1",cart__modal:"CartModal_cart__modal__wh8Ui",cart__modal_content:"CartModal_cart__modal_content__PdzQv",cart__header:"CartModal_cart__header__sUQBF",cart__header_icon:"CartModal_cart__header_icon__bIYYY",cart__title:"CartModal_cart__title__xv7tF",cart__steps:"CartModal_cart__steps__D_zLi",cart__step_indicator:"CartModal_cart__step_indicator__cjQnc",cart__step_indicator_active:"CartModal_cart__step_indicator_active__iBeYp",cart__step_number:"CartModal_cart__step_number__2cqrY",cart__close:"CartModal_cart__close__p171P",cart__content:"CartModal_cart__content__HoEuL",cart__content_success:"CartModal_cart__content_success__3L3BW",cart__step1:"CartModal_cart__step1__CEkY8",cart__items_list:"CartModal_cart__items_list__XQffm",cart__product_row:"CartModal_cart__product_row__TICvx",cart__product_icon:"CartModal_cart__product_icon__x7lDS",cart__product_info:"CartModal_cart__product_info__x6fM3",cart__product_name:"CartModal_cart__product_name__E6tji",cart__product_price:"CartModal_cart__product_price__bkJHh",cart__counter:"CartModal_cart__counter__iDfYy",cart__counter_btn:"CartModal_cart__counter_btn__8ttoe",cart__counter_value:"CartModal_cart__counter_value__jUtmr",cart__product_total:"CartModal_cart__product_total__pFbM5",cart__product_remove:"CartModal_cart__product_remove__YQB0A",cart__empty:"CartModal_cart__empty__xqFyT",cart__empty_icon:"CartModal_cart__empty_icon__2fToN",cart__empty_btn:"CartModal_cart__empty_btn__Gnk5h",cart__step2:"CartModal_cart__step2__rsiLL",cart__form_container:"CartModal_cart__form_container__L5P5K",cart__swipe_hint:"CartModal_cart__swipe_hint__ojHHx",cart__form_group:"CartModal_cart__form_group__P_1FG",cart__form_label:"CartModal_cart__form_label__LAJUh",cart__form_icon:"CartModal_cart__form_icon__j2YhL",cart__form_input:"CartModal_cart__form_input__oQuq_",cart__form_input_error:"CartModal_cart__form_input_error__3rO5B",cart__error_message:"CartModal_cart__error_message__GZA_7",cart__date_picker:"CartModal_cart__date_picker__xNEFh",cart__date_option:"CartModal_cart__date_option__t7KDZ",cart__date_option_selected:"CartModal_cart__date_option_selected__kFv1h",cart__date_option_disabled:"CartModal_cart__date_option_disabled__3Hqdj",cart__payment_methods:"CartModal_cart__payment_methods__us2XR",cart__payment_option:"CartModal_cart__payment_option__6vmkX",cart__payment_option_selected:"CartModal_cart__payment_option_selected___k2HO",cart__payment_icon:"CartModal_cart__payment_icon__8Uond",cart__step3:"CartModal_cart__step3__k35cS",cart__success_animation:"CartModal_cart__success_animation__Jj99r",cart__success_title:"CartModal_cart__success_title__GBHmt",cart__success_message:"CartModal_cart__success_message__Gtzxf",cart__success_btn:"CartModal_cart__success_btn__zZUkl",cart__footer:"CartModal_cart__footer__i972g",cart__back_btn:"CartModal_cart__back_btn__V4xie",cart__next_btn:"CartModal_cart__next_btn__CiXKO",cart__btn_icon:"CartModal_cart__btn_icon__G1UjZ"}},5274:function(e){e.exports={footer:"Footer_footer__nMTH5",footer__container:"Footer_footer__container__LSQ4s",footer__grid:"Footer_footer__grid__UpKs8","footer__column-title":"Footer_footer__column-title__gDYo1","footer__column-text":"Footer_footer__column-text__cajJ8",footer__social:"Footer_footer__social__gxPfF","footer__social-link":"Footer_footer__social-link__LiMjF","footer__links-list":"Footer_footer__links-list__KKIjM","footer__links-item":"Footer_footer__links-item__7rM74","footer__hours-item":"Footer_footer__hours-item__AQTAg","footer__hours-note":"Footer_footer__hours-note__ivQlO","footer__contact-item":"Footer_footer__contact-item__ZYC1c","footer__contact-item-icon":"Footer_footer__contact-item-icon__x5cBv",footer__copyright:"Footer_footer__copyright__SsRmz"}},8597:function(e){e.exports={header:"Header_header__FHC0C","header--scrolled":"Header_header--scrolled___MJOt",header__container:"Header_header__container__lSRFK",header__logo:"Header_header__logo__doLJu","header__logo-accent":"Header_header__logo-accent__N2_IG",header__nav:"Header_header__nav__M_HYT","header__nav-list":"Header_header__nav-list__9vsSg","header__nav-item":"Header_header__nav-item__6sd5_","header__nav-item--scrolled":"Header_header__nav-item--scrolled__2iCr7","header__nav-item--active":"Header_header__nav-item--active__drVi2",header__cart:"Header_header__cart__lRdVq",header__cart_badge:"Header_header__cart_badge__XGVtR","header__mobile-button":"Header_header__mobile-button__Fbt7C","header__mobile-menu":"Header_header__mobile-menu__HDH95","header__mobile-list":"Header_header__mobile-list__9VDql","header__mobile-item":"Header_header__mobile-item__Xgdyc","header__mobile-item--active":"Header_header__mobile-item--active__a4j9W",header__mobile_cart_btn:"Header_header__mobile_cart_btn__P62wK",header__mobile_cart_icon:"Header_header__mobile_cart_icon__tUK2v",header__mobile_cart_badge:"Header_header__mobile_cart_badge__IrbPu",header__mobile_controls:"Header_header__mobile_controls__b8Nim"}},1230:function(e){e.exports={main:"MainLayout_main__SDHsE",hidden:"MainLayout_hidden__PoPnz"}},3779:function(e){e.exports={modalContainer:"ModalPortal_modalContainer__rs2rm",overlay:"ModalPortal_overlay__lrZjt",modal:"ModalPortal_modal__3ss_v"}}},function(e){e.O(0,[699,178,250,578,971,69,744],function(){return e(e.s=7405)}),_N_E=e.O()}]);